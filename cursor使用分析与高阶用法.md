# 🧭 Cursor 编辑器使用分析与高阶技巧

## 一、Cursor 是什么？

**Cursor** 是一款基于 VS Code 打造的智能开发编辑器，由前 OpenAI 工程师团队创建。  
它不仅提供自动补全功能，还能深度理解项目结构、依赖、类型与上下文，直接参与代码生成、修改与调试。  
[文档地址](https://cursor.com/cn/docs) 

---

## 二、主要功能分析

### 1. AI 代码补全（Inline Completion）

在输入函数、注释或关键字时，Cursor 会智能补全整段逻辑。  
- 比 Copilot 更懂上下文，会分析整个项目结构。  
- 能根据注释生成完整函数逻辑。  
- 支持 TypeScript / Vue / React / Node / Python 等语言。

> 💡 输入函数名后按 `Tab` 或 `Cmd + →` 即可接受 AI 提示。

---

### 2. Chat 面板（AI 对话）

快捷键：`Cmd + L` 或 点击右下角 Chat 图标。

可直接与 AI 聊天，用于：
- 🔍 **代码解释**：询问“这段逻辑是干嘛的？”  
- 🧰 **Bug 调试**：贴错误日志让 AI 分析。  
- 🧑‍💻 **架构建议**：例如“帮我设计一个 Vue3 + Pinia 的权限体系”。  
- 🧩 **跨文件修改**：AI 可同时修改多个文件，并展示 diff 预览。

> 💡 Cursor 的 Chat 能访问整个项目上下文，比 ChatGPT 更精准。

---

### 3. AI 改写（Command + K）

选中代码后：
1. 按 `Cmd + K`（Mac）或 `Ctrl + K`（Windows）  
2. 输入指令，例如：
   - “优化性能”
   - “用 TypeScript 重写”
   - “改成 async/await 写法”
   - “给这段代码加注释”

AI 会展示修改前后对比，让你选择是否应用。  

---

### 4. Context 上下文理解

Cursor 会自动解析：
- 项目结构（如 monorepo、workspace）  
- tsconfig / package.json / vite.config.ts 等配置  
- 类型声明、模块依赖  
- 当前编辑文件的作用范围  

> 这让 AI 的理解更深，生成的代码也更贴合项目风格。

---

## 三、高阶用法与实战技巧

### 1. 基于 Rules 的智能工作流

**Rules** 是 Cursor 编辑器中一个非常强大的功能，它允许你通过编写规则文件（通常为 `.cursor/rules`）来定义 **AI 的行为准则与上下文理解方式**。  

简单来说，就是你可以告诉 Cursor：
> “在处理我的代码时，请始终遵循这些规则。”

通过 Rules，你能让 AI：
- 保持代码风格统一  
- 遵守项目结构规范  
- 自动识别你常用的技术栈  
- 为不同文件类型采用不同的生成策略  

**Rules 的作用机制**
- 自动匹配当前文件路径是否命中某条规则
- 将该规则的内容添加到 AI 的系统提示中（类似「系统级 prompt」）
- 让生成结果自动遵循这些约束

---

### 2. Agent 模式（智能代理）

**Agent** 是 Cursor 中的核心执行单元，相当于你的“虚拟开发助手”。  
- 负责读取规则（Rules）和上下文（Context），理解任务目标  
- 可以执行代码生成、重构、测试生成、文档编写等操作  
- 支持多 Agent 协作，例如一个 Agent 负责前端组件生成，另一个负责数据接口处理  

**使用场景示例**：
- 自动生成 CRUD 页面  
- 批量重构大型项目文件  
- 自动生成组件文档和单元测试  

> Agent 使 Cursor 能像团队成员一样理解项目，并自主执行复杂任务。

---

### 3. Ask 模式（主动交互）

**Ask** 是 Cursor 与用户交互的机制，用于获取额外信息或确认决策。  
- 当 AI 不确定某个实现方式时，会通过 Ask 向用户提问  
- 支持多轮对话，确保生成的代码符合预期  

**使用场景示例**：
- 在生成 CRUD 页面时，询问表单字段类型或默认值  
- 在重构组件时，确认样式规范或命名规则  
- 自动生成测试用例前，询问测试覆盖范围  

> Ask 保证 AI 在不确定的情况下能够主动获取用户输入，减少错误生成。

---

### 4. 项目 Rules 示例

#### 4.1 项目 rules

**作用**：针对具体项目或特定目录/文件的规则，用来指导 AI 在当前项目中的行为。

**特点**：

- 通常放在 `.cursor/rules` 或项目根目录下
    
- 可以针对某类文件或目录（如 `*.vue`、`packages/utils/**`）定义特定规则
    
- 影响 AI 在代码生成、重构和文档编写时的行为
    

**使用场景**：

- Vue 项目中统一 `<script setup lang="ts">` 风格
    
- utils 目录下所有函数必须写 JSDoc 注释

每一条规则通常由以下部分组成：
```yaml
# .cursor/rules
---
alwaysApply: true
---
prompt: |
  当编辑 Vue 文件时，请：
  1. 使用 <script setup lang="ts"> 风格
  2. 始终添加类型注解
  3. 模板中 class 使用 TailwindCSS
  4. 禁止使用 any
```

#### 4.2 全局 rules

**作用**：用于定义 AI 的整体行为规范，适用于所有项目或多个项目的统一风格。

**特点**：

- 不依赖具体项目文件，可统一团队或个人开发习惯
    
- 用于指导 AI 的回答方式、编码规范、语言风格等
    
- 对项目 rules 有一定的覆盖或补充作用
    

**使用场景**：

- 统一 AI 的语言输出为中文
    
- 指定 AI 以“高级前端工程师”角色提供技术解答
    
- 统一代码规范，如 TypeScript 类型要求、TailwindCSS 样式约束
```md
## 核心角色定位
always respond in 中文
你是一位经验丰富的高级前端开发工程师，擅长 Vue 和 React 技术栈。你的目标是通过深度思考和结构化推理，提供高质量的技术解答，并帮助用户在每次交流中获得成长。

## 回答方式
1. 先分析后编码：收到问题后，先分析问题本质和背景，解释解决思路，再提供代码实现
2. 结构化思考：采用清晰的逻辑结构组织回答，帮助用户全面理解问题
3. 主动获取上下文：当信息不足时，主动请求用户提供更多上下文
4. 澄清模糊表述：当用户表达不清时，引导用户更准确地表达需求

## 技术能力范围
- 前端技术栈：精通 Vue、React、Vite、Webpack、npm 等前端技术和工程化方案
- 架构设计：具备产品思维和架构能力，提供可维护、可扩展的代码方案
- 问题链追问：通过连续性问题帮助用户深入理解技术本质
- 技术指导：识别用户技术短板，提供针对性学习建议和资源

## 代码规范要求
- CSS 实现：使用 Tailwind CSS 编写样式，注重响应式设计
- 代码标准：遵循大厂代码规范（字节、腾讯、微软等）
- 类型系统：严格使用 TypeScript，提供完善类型定义，禁用 any 类型
- 文档注释：为所有函数、方法、对象和 props 提供完整的 TSDoc 注释
- 模块化：清晰标注代码模块边界，适当使用 TODO 注释标记待完善部分
- Vue 版本：采用 Vue 3.5+ 的最新特性，注明语法版本和兼容性考虑
- JavaScript 标准：优先使用 ES6+ 语法特性
- 函数声明：优先使用命名函数而非匿名函数，只在简化代码时适当使用箭头函数

```
#### 4.3 社区 rules
[cursor.directory](https://cursor.directory/?utm_source=chatgpt.com) 是由 Cursor 团队和社区共同维护的开放平台，提供了丰富的规则模板、生成器和社区支持，帮助开发者为项目定制 AI 行为规范。

### 5 结合实际项目使用 cursor
在前端后台模块中，常用组件包括 `ActionBar`、`DataGrid`、`FormView` 和 `QueryBar`。  
我们可以通过以下方式高效利用 Cursor Rules 生成增删改查页面：

1. **编写规则**：将每个组件的使用方法、示例代码（Demo）、以及 TypeScript 类型标注写入 `.cursor/rules` 文件。
    
2. **添加样例图片**：在规则中附上组件的界面截图或示例图，帮助 AI 理解 UI 布局和交互。
    
3. **自动生成页面**：Cursor 会根据规则和样例自动生成 CRUD 页面，包括表单、数据表格、操作栏及查询栏等逻辑。
    

> 通过这种方式，无需重复手动编码即可快速搭建后台模块，提高开发效率并保证代码规范一致。